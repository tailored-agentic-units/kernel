# Project Review - kernel

**Date:** 2026-02-16
**Scope:** tailored-agentic-units/kernel

## Infrastructure Audit

| Area | Status | Notes |
|------|--------|-------|
| Project board | OK | Phases match `_project/README.md` |
| Phases | OK | Phase 1 (Foundation) in progress, Objectives 2-4 planned |
| Labels | OK | Consistent subsystem + type labels across all issues |
| Issue types | OK | Objectives and Tasks properly typed |
| Milestones | N/A | Not currently used; phases tracked via project board |
| Orphaned issues | 6 | #5-10 (orchestrate observability features, Whisper provider) — backlog items not linked to any objective |

## Codebase Assessment

| Area | Grade | Notes |
|------|-------|-------|
| Code quality | A | Clean interfaces, acyclic dependencies, consistent patterns across all packages |
| Test coverage | B+ | 40 test files, all passing. Every subsystem has co-located black-box tests. Coverage: memory 88.2%. No integration tests — by design. |
| Documentation | B | Good exported-type docs. README Quick Start referenced missing config file (fixed). |
| Dependencies | A | Minimal: uuid, protobuf, connect. No bloat. |
| Technical debt | A- | `cmd/kernel/main.go` was a stub (will be addressed by #15). `mcp/` is a skeleton. No shortcuts in implemented code. |

## Context Health

| Area | Status | Notes |
|------|--------|-------|
| Concepts | Current | `orchestrate/advanced-observability.md` active |
| Guides | Properly archived | #11-14 all in `.archive/` |
| Sessions | Complete | Summaries exist for #11-14 |
| CLAUDE.md | Updated | Removed `skills/` standalone references, fixed config file references, added kernel CLI to Quick Reference |
| Skills | Current | kernel-dev skill aligns with project patterns |

## _project/ Health

| Document | Status | Notes |
|----------|--------|-------|
| README.md | Updated | Removed standalone `skills/` from subsystem topology and dependency hierarchy (consolidated into memory in #13). Updated build order diagram. |
| phase.md | Current | Objective 1 correctly shown as In Progress |
| objective.md | Updated | Marked #14 as Closed. Updated #15 title and description to reflect refactored scope. |

## Vision Alignment

| Objective | Status | Notes |
|-----------|--------|-------|
| #1 Kernel Core Loop | On track | 4/5 sub-issues closed. #15 refactored from integration tests to runnable kernel CLI. |
| #2 ConnectRPC Interface | On track | Proto definitions and generated code ready. Blocked on Objective #1. |
| #3 Skills and MCP Integration | On track | Skills consolidated into memory namespace (simpler than originally planned). MCP skeleton exists. |
| #4 Local Development Mode | On track | Scope reduced — runnable CLI (#15) addresses the core runnability concern. Objective #4 becomes refinement (graceful shutdown, observability, polish). |

## Phase Progress

| Phase | Total | Open | Closed | Progress |
|-------|-------|------|--------|----------|
| Phase 1 — Foundation | 5 sub-issues | 1 | 4 | 80% |

## Decisions Made

### 1. Refactored #15 from integration tests to runnable kernel CLI

The agent-lab principle applies: runtime validation through a CLI entry point exercises the full subsystem composition against a real LLM. This catches what mocks cannot — prompt formatting, tool schema compatibility, provider-specific behavior. A running kernel IS the integration test. Integration tests may be revisited if a concrete need arises (e.g., when ConnectRPC creates a second entry path).

### 2. Skills consolidated into memory package

Confirmed from Session #13: the standalone `skills/` skeleton was removed. Skills became a namespace within the memory system (`skills/` prefix in the Store). Updated `_project/README.md`, `.claude/CLAUDE.md`, and the dependency hierarchy to reflect this.

### 3. Config file naming convention

Config files follow the pattern `agent.[provider].[model].json`. Example: `cmd/kernel/agent.ollama.qwen3.json`.

### 4. Qwen3-8B confirmed as local development model

Fits RTX 2080 (8GB VRAM) at Q4_K_M quantization: ~5.38 GB VRAM (67.3%), ~69 tok/sec generation, ~99ms TTFT. Docker Compose auto-loads the model.

### 5. Reviews are permanent records

Review reports in `.claude/context/reviews/` are not archived. They capture what was analyzed and what decisions were made.

## Actions Taken

- Refactored GitHub Issue #15: changed scope from "Kernel integration tests" to "Runnable kernel CLI with built-in tools"
- Updated GitHub Issue #1: sub-issue table reflects #14 closed, #15 refactored
- Updated `_project/objective.md`: marked #14 as Closed, updated #15 description
- Updated `_project/README.md`: removed standalone `skills/` from architecture, subsystem topology, dependency hierarchy, and build order
- Updated `.claude/CLAUDE.md`: removed `skills/` from project structure, fixed config references, added kernel CLI to Quick Reference, clarified review archive policy
- Updated `README.md`: updated Quick Start with kernel CLI usage, fixed memory description

## Recommendations

- **Next task session**: Execute #15 (Runnable kernel CLI with built-in tools) to close Objective #1
- **Orphaned issues**: #5-10 should be evaluated during Objective #2-3 planning to determine if they belong under an objective or should remain in the backlog
- **Missing prompt-agent config**: `cmd/prompt-agent/` has no config file. Either create `agent.ollama.qwen3.json` there during #15, or remove the prompt-agent reference from Quick Start until it's addressed
